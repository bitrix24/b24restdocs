# Adding a Workflow Template

{% note warning "We are still updating this page" %}

Some data may be missing â€” we will complete it shortly.

{% endnote %}

{% if build == 'dev' %}

{% note alert "TO-DO _not exported to prod_" %}

- edits needed for writing standards
- parameter types not specified
- parameter requirements not indicated
- examples are missing
- success response is absent
- error response is absent
- links to pages not yet created are missing
- parameters and descriptions of parameters are needed
- examples are lacking
- standard blocks are missing

{% endnote %}

{% endif %}

{% note info "bizproc.workflow.template.add" %}

{% include notitle [Scope bizproc admin](./_includes/scope-bizproc-admin.md) %}

{% endnote %}

This method adds a workflow template from a saved file. In other words, the required workflow is first fully configured in a specific Bitrix24, then this workflow is exported to a bpt file using the appropriate user tool (link needed here!), and this file can then be used to add the same workflow as a template to the desired Bitrix24 using the method `bizproc.workflow.template.add`.

#|
|| **Parameter** | **Description** ||
|| **DOCUMENT_TYPE**
[`array`](../data-types.md) | Document type - an array of 3 string elements that define which type of objects the new workflow template will be attached to. See the table below for value descriptions. ||
|| **NAME**
[`string`](../data-types.md) | Template name ||
|| **DESCRIPTION**
[`string`](../data-types.md) | Template description. ||
|| **TEMPLATE_DATA**
[`file`](../data-types.md) | The content of the workflow template file *.bpt is passed. See [{#T}](../how-to-call-rest-api/how-to-upload-files.md) ||
|| **AUTO_EXECUTE**
[`integer`](../data-types.md) | Auto-execute flag, can be:

- `0` (no auto-execute),
- `1` (execute on creation),
- `2` (execute on modification),
- `3` (execute on both creation and modification) ||
|#

## DOCUMENT_TYPE

The `DOCUMENT_TYPE` parameter is always an array of three elements. For example, ['crm', 'CCrmDocumentLead', 'LEAD'], etc. The values in these elements are interdependent. In other words, by selecting 'crm' for the first element of the array, the other values that can be used are not arbitrary but specific and must be related to crm. It is essential to ensure their correctness.

#|
|| **Element** | **Description** ||
|| **module id** | Here, the binding area of the workflow template is specified. Currently, workflows in Bitrix24 are used in CRM entities, activity streams, universal lists, projects, and Bitrix Disk. Therefore, possible values include:

- crm
- livestream?
- lists
- tasks
- disk
  
||
|| **Object type / entity** | The document type represents a specific object within the specified module/entity. For example, if we specified CRM as the module, we can indicate CCrmDocumentLead as the document type to bind the workflow template to leads. Possible values:

- for crm: CCrmDocumentLead, CCrmDocumentDeal, CCrmDocumentCompany, CCrmDocumentContact
- for livestream ... ??
- for lists: BizprocDocument, ??
- tasks: Bitrix\Tasks\Integration\Bizproc\Document\Task, ??
- disk: Bitrix\Disk\BizProcDocument, ??
 ||

|| **Document type / specific object** | After specifying the object type or entity, a clarification is needed in the form of binding to a specific document type or even a specific object, if possible in the particular case. For example, when binding the workflow template to tasks, it is necessary to specify the identifier of a specific workgroup (project). Possible values:

- for CCrmDocumentLead: 'LEAD'
- for CCrmDocumentDeal: 'DEAL'
- for CCrmDocumentCompany: 'COMPANY'
- for CCrmDocumentContact: 'CONTACT'
- for BizprocDocument: 'iblock_22' (binding to a specific universal list with id 22)
- for Bitrix\Disk\BizProcDocument: 'STORAGE_490' (binding to a specific file storage with id 490)
- for Bitrix\Tasks\Integration\Bizproc\Document\Task: 'TASK_PROJECT_13' (binding to a specific workgroup with id 13)
||
|#

## Example

```javascript
function addTemplate()
{
	BX24.callMethod(
		'bizproc.workflow.template.add',
		{
			DOCUMENT_TYPE: ['crm', 'CCrmDocumentLead', 'LEAD'],
			NAME: 'App template',
			DESCRIPTION: 'Template was generated by rest application.',
			AUTO_EXECUTE: 1,
			TEMPLATE_DATA: document.getElementById('tpl_file')
		},
		function(result)
		{
			if(result.error())
				alert("Error: " + result.error());
			console.log(result);
		}
	);
}
```

{% include [Footnote on examples](../../_includes/examples.md) %}