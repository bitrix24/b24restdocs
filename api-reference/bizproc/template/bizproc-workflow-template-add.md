# Add Business Process Template bizproc.workflow.template.add

> Scope: [`bizproc`](../../scopes/permissions.md)
>
> Who can execute the method: administrator

This method adds a business process template from a file.

The business process template must be pre-configured. Export the completed template to a file with the `.bpt` extension. The resulting file can be added as a template to the desired Bitrix24.

The method works only in the context of the application. The system associates the new template with the application.

## Method Parameters

{% include [Note on required parameters](../../../_includes/required.md) %}

#|
|| **Name**
`type` | **Description**||
|| **DOCUMENT_TYPE***
[`array`](../../data-types.md) | Document type. Consists of three string-type elements. They define which type of objects to attach the new business process template to.

Possible value options:

- CRM Module
    `['crm', 'CCrmDocumentLead', 'LEAD']` — leads
    `['crm', 'CCrmDocumentContact', 'CONTACT']` — contacts
    `['crm', 'CCrmDocumentCompany', 'COMPANY']` — companies
    `['crm', 'CCrmDocumentDeal', 'DEAL']` — deals
    `['crm', 'Bitrix\Crm\Integration\BizProc\Document\Quote', 'QUOTE']` — estimates
    `['crm', 'Bitrix\Crm\Integration\BizProc\Document\SmartInvoice', 'SMART_INVOICE']` — invoices
    `['crm', 'Bitrix\Crm\Integration\BizProc\Document\Dynamic', 'DYNAMIC_XXX']` — SPAs, where XXX is the identifier of the SPA

- Lists Module
    `['lists', 'BizprocDocument', 'iblock_XXX']` — processes in the news feed, where XXX is the information block identifier
    `['lists', 'Bitrix\Lists\BizprocDocumentLists', 'iblock_XXX']` — lists in groups, where XXX is the information block identifier

- Disk Module
    `['disk', 'Bitrix\Disk\BizProcDocument', 'STORAGE_XXX']`, where XXX is the storage identifier
||
|| **NAME***
[`string`](../../data-types.md) | Template name ||
|| **DESCRIPTION**
[`string`](../../data-types.md) | Template description ||
|| **TEMPLATE_DATA***
[`file`](../../data-types.md) | Content of the business process template file in `.bpt` format.

More about file transfer methods can be found in the article [{#T}](../../bx24-js-sdk/how-to-call-rest-methods/files.md) ||
|| **AUTO_EXECUTE**
[`integer`](../../data-types.md) | Auto-execution settings for the template. Can have the following values:

- `0` — no auto-execution
- `1` — execute on creation
- `2` — execute on modification
- `3` — execute on creation and modification

Default is `0` ||
|#

## Code Examples

{% include [Note on examples](../../../_includes/examples.md) %}

{% list tabs %}

- cURL (OAuth)

    ```bash
    curl -X POST \
    -H "Content-Type: application/json" \
    -H "Accept: application/json" \
    -d '{"DOCUMENT_TYPE":["lists","BizprocDocument","iblock_164"],"NAME":"App template","DESCRIPTION":"Template was generated by rest application.","AUTO_EXECUTE":3,"TEMPLATE_DATA":["bp-379.bpt","eNrlWNtO41YUfe9XRH5vlTiJhxj1IYkdYTU3Jeb2ZBkwg1UHU9t0BiFLhKk6rTq9aNSHqupF7RcwU1JSIOEXjv+oex/biZ04YWagIKYvcE7Ots9ea9+t8hx/aPOPeGZFbLWlRp1Z1Hl20eYXeEYWa81qURaZRZXP8Ic6n4ZFHsVzcHiwpzEgx3I809Y+29d2HV01Vk3r023DfFLcdPTPdecAJUC4rnaoML5U6+wZqkO3BZ6hgrDdwn2GZ9bp/zTPNC1zT7McXbPxehZvzcPTumPQRzkQIb+TodclF6RHTsmQvCYn3jGsL7wXZOB9Q/5JkVekT87IgPS87ofkyjsC+S9x43VH12hWR7dt3dzFaxbwGtBCwE2aP3TpToztWrFdO7aTY7vl2G41tlsLd65LaSnv6MaWpe3O5xovNDfrmlPTbFt9rM2gmYV1MZ9Oc2llocCxBYUrsByr5Atsnn073qlzZOA8uFDWnjpUMov8vwRGe+TS+z4FRhiSc3Likw/rHp86/Lh9YDtah6+bT6rmpmq4H0SeAMP1YPOa/j2JS4PgnyB27j3zvgajwutPqW2jYgIo7/qqjLSrmFZHpfqBdvQsPzpbtjWrYpmdCMHgRTyj7js7psUsurE3obRszpGN+mIW6CZ/AOgheQUK94CAPukhQnC3jyjQY9IPdRW3dMe0ymanAyEz0nXaC3znQPegZim2ijVRhhgduxGYcaXYkoqlqhj/tdyot+ViXY46JygsNMrLNbEuKxVJrAr0kE2jgVmekajLFwKHCx0pU8CTlPctDbJLhIZmCNwtdEsApftQUNOKbjiapW4gNxt8xo96BB3+lPZ/akHS0C10wNFPtX3D0ffGUkg5+mn0sZJqa9MXQ/4CRuHRp8xindoSo1GqicBDramsJYHLodl+9B0rRRMFBejbDz10PmrQZQt80NEDqt4EeubWoE/cnoi/1hAkMLWglNaT8GM2IT8jwgn0E0BhuQ/hcA8gIzcnAhSgOCnllhjUqCkDsxEDYzQCSEgk74V5QR0f+CzrYugG1o1Cv6Ft03diW8w6pWqj/ImSnJYwciEtgdcOvC8gyR6BFU+gsvcB54CWn7/IEKt/UJVulq8SrJq59XwFjxbLsrSS6MhZECc/QD2EMgIVc4Btj3fsvbjOh2G5YZrG/URuePO070JYlppKc7lUldpLYqKFWQzd36Ble0at2Acr0gYvyYFnQ0zfG8RMaE6l0mrUkhDmC9HqM4DFc2yfcHMyaWnSf9jZqjBiQ24kccHlo1wMqbEHlA8/Vb9/jICi7UZLTnQM7Kx/AqCntAXu+n3kEWLGAQY4OL8e/c1T3O23ZIgReljaVGcnqxW8l/wKdj7zoxwb6P8gQUcYggttx9J3HwfM2abl4OybCUDZmuPA6Xj6xN69vdRYVYqCoFQarVpscsoFh6IgyROn7gRrqBsmCP8XxRnnE58eP0MK2rYK2q+oxr4WmWgm6I6hmE5DEFfNlrgiiatKUyrLy63E8pLnqMed0fkFhjHy92iGASe8wAC8onPbaTBDd8HvhlCAjpIqzrZuaPeTjsObEytOyIMsrskzpwF/6oT88i7AnXA2vnPg4c3TwB/FgSvyetMPwPSkD2Qp/D65StGPKJQFzMZvyQM6pGZom6E+jT1HN3fHUTTB05jx4D07TscIlkt06d45oZMQRpTiJa4f64IoF6XqvKDKLbxRUD3AYMqM4M+KpSw3M5YeYAxxMbyzQyiXvz6E/uehk8NvU0LyjIMJ6Bf6AeKSjnF9aAB7QBd0O/gpF3vCU2ZODb/jRmd+5YXTtVp1xvjKItSX9LP0VzQlUHgX3nfe8wcC0HX/BTDK1SA="],"auth":"**put_access_token_here**"}' \
    https://**put_your_bitrix24_address**/rest/bizproc.workflow.template.add
    ```

- JS

    ```js
    BX24.callMethod(
        'bizproc.workflow.template.add',
        {
            DOCUMENT_TYPE: ['lists', 'BizprocDocument', 'iblock_164'],
            NAME: 'App template',
            DESCRIPTION: 'Template was generated by rest application.',
            AUTO_EXECUTE: 3,
            TEMPLATE_DATA: [
                    "bp-379.bpt",
                    "eNrlWNtO41YUfe9XRH5vlTiJhxj1IYkdYTU3Jeb2ZBkwg1UHU9t0BiFLhKk6rTq9aNSHqupF7RcwU1JSIOEXjv+oex/biZ04YWagIKYvcE7Ots9ea9+t8hx/aPOPeGZFbLWlRp1Z1Hl20eYXeEYWa81qURaZRZXP8Ic6n4ZFHsVzcHiwpzEgx3I809Y+29d2HV01Vk3r023DfFLcdPTPdecAJUC4rnaoML5U6+wZqkO3BZ6hgrDdwn2GZ9bp/zTPNC1zT7McXbPxehZvzcPTumPQRzkQIb+TodclF6RHTsmQvCYn3jGsL7wXZOB9Q/5JkVekT87IgPS87ofkyjsC+S9x43VH12hWR7dt3dzFaxbwGtBCwE2aP3TpToztWrFdO7aTY7vl2G41tlsLd65LaSnv6MaWpe3O5xovNDfrmlPTbFt9rM2gmYV1MZ9Oc2llocCxBYUrsByr5Atsnn073qlzZOA8uFDWnjpUMov8vwRGe+TS+z4FRhiSc3Likw/rHp86/Lh9YDtah6+bT6rmpmq4H0SeAMP1YPOa/j2JS4PgnyB27j3zvgajwutPqW2jYgIo7/qqjLSrmFZHpfqBdvQsPzpbtjWrYpmdCMHgRTyj7js7psUsurE3obRszpGN+mIW6CZ/AOgheQUK94CAPukhQnC3jyjQY9IPdRW3dMe0ymanAyEz0nXaC3znQPegZim2ijVRhhgduxGYcaXYkoqlqhj/tdyot+ViXY46JygsNMrLNbEuKxVJrAr0kE2jgVmekajLFwKHCx0pU8CTlPctDbJLhIZmCNwtdEsApftQUNOKbjiapW4gNxt8xo96BB3+lPZ/akHS0C10wNFPtX3D0ffGUkg5+mn0sZJqa9MXQ/4CRuHRp8xindoSo1GqicBDramsJYHLodl+9B0rRRMFBejbDz10PmrQZQt80NEDqt4EeubWoE/cnoi/1hAkMLWglNaT8GM2IT8jwgn0E0BhuQ/hcA8gIzcnAhSgOCnllhjUqCkDsxEDYzQCSEgk74V5QR0f+CzrYugG1o1Cv6Ft03diW8w6pWqj/ImSnJYwciEtgdcOvC8gyR6BFU+gsvcB54CWn7/IEKt/UJVulq8SrJq59XwFjxbLsrSS6MhZECc/QD2EMgIVc4Btj3fsvbjOh2G5YZrG/URuePO070JYlppKc7lUldpLYqKFWQzd36Ble0at2Acr0gYvyYFnQ0zfG8RMaE6l0mrUkhDmC9HqM4DFc2yfcHMyaWnSf9jZqjBiQ24kccHlo1wMqbEHlA8/Vb9/jICi7UZLTnQM7Kx/AqCntAXu+n3kEWLGAQY4OL8e/c1T3O23ZIgReljaVGcnqxW8l/wKdj7zoxwb6P8gQUcYggttx9J3HwfM2abl4OybCUDZmuPA6Xj6xN69vdRYVYqCoFQarVpscsoFh6IgyROn7gRrqBsmCP8XxRnnE58eP0MK2rYK2q+oxr4WmWgm6I6hmE5DEFfNlrgiiatKUyrLy63E8pLnqMed0fkFhjHy92iGASe8wAC8onPbaTBDd8HvhlCAjpIqzrZuaPeTjsObEytOyIMsrskzpwF/6oT88i7AnXA2vnPg4c3TwB/FgSvyetMPwPSkD2Qp/D65StGPKJQFzMZvyQM6pGZom6E+jT1HN3fHUTTB05jx4D07TscIlkt06d45oZMQRpTiJa4f64IoF6XqvKDKLbxRUD3AYMqM4M+KpSw3M5YeYAxxMbyzQyiXvz6E/uehk8NvU0LyjIMJ6Bf6AeKSjnF9aAB7QBd0O/gpF3vCU2ZODb/jRmd+5YXTtVp1xvjKItSX9LP0VzQlUHgX3nfe8wcC0HX/BTDK1SA="
                ]
        },
        function(result)
        {
            if(result.error())
                alert("Error: " + result.error());
            else
                console.log(result.data());
        }
    );
	```

- PHP

    ```php
    require_once('crest.php');

    $result = CRest::call(
        'bizproc.workflow.template.add',
        [
            'DOCUMENT_TYPE' => ['lists', 'BizprocDocument', 'iblock_164'],
            'NAME' => 'App template',
            'DESCRIPTION' => 'Template was generated by rest application.',
            'AUTO_EXECUTE' => 3,
            'TEMPLATE_DATA' => [
                "bp-379.bpt",
                "eNrlWNtO41YUfe9XRH5vlTiJhxj1IYkdYTU3Jeb2ZBkwg1UHU9t0BiFLhKk6rTq9aNSHqupF7RcwU1JSIOEXjv+oex/biZ04YWagIKYvcE7Ots9ea9+t8hx/aPOPeGZFbLWlRp1Z1Hl20eYXeEYWa81qURaZRZXP8Ic6n4ZFHsVzcHiwpzEgx3I809Y+29d2HV01Vk3r023DfFLcdPTPdecAJUC4rnaoML5U6+wZqkO3BZ6hgrDdwn2GZ9bp/zTPNC1zT7McXbPxehZvzcPTumPQRzkQIb+TodclF6RHTsmQvCYn3jGsL7wXZOB9Q/5JkVekT87IgPS87ofkyjsC+S9x43VH12hWR7dt3dzFaxbwGtBCwE2aP3TpToztWrFdO7aTY7vl2G41tlsLd65LaSnv6MaWpe3O5xovNDfrmlPTbFt9rM2gmYV1MZ9Oc2llocCxBYUrsByr5Atsnn073qlzZOA8uFDWnjpUMov8vwRGe+TS+z4FRhiSc3Likw/rHp86/Lh9YDtah6+bT6rmpmq4H0SeAMP1YPOa/j2JS4PgnyB27j3zvgajwutPqW2jYgIo7/qqjLSrmFZHpfqBdvQsPzpbtjWrYpmdCMHgRTyj7js7psUsurE3obRszpGN+mIW6CZ/AOgheQUK94CAPukhQnC3jyjQY9IPdRW3dMe0ymanAyEz0nXaC3znQPegZim2ijVRhhgduxGYcaXYkoqlqhj/tdyot+ViXY46JygsNMrLNbEuKxVJrAr0kE2jgVmekajLFwKHCx0pU8CTlPctDbJLhIZmCNwtdEsApftQUNOKbjiapW4gNxt8xo96BB3+lPZ/akHS0C10wNFPtX3D0ffGUkg5+mn0sZJqa9MXQ/4CRuHRp8xindoSo1GqicBDramsJYHLodl+9B0rRRMFBejbDz10PmrQZQt80NEDqt4EeubWoE/cnoi/1hAkMLWglNaT8GM2IT8jwgn0E0BhuQ/hcA8gIzcnAhSgOCnllhjUqCkDsxEDYzQCSEgk74V5QR0f+CzrYugG1o1Cv6Ft03diW8w6pWqj/ImSnJYwciEtgdcOvC8gyR6BFU+gsvcB54CWn7/IEKt/UJVulq8SrJq59XwFjxbLsrSS6MhZECc/QD2EMgIVc4Btj3fsvbjOh2G5YZrG/URuePO070JYlppKc7lUldpLYqKFWQzd36Ble0at2Acr0gYvyYFnQ0zfG8RMaE6l0mrUkhDmC9HqM4DFc2yfcHMyaWnSf9jZqjBiQ24kccHlo1wMqbEHlA8/Vb9/jICi7UZLTnQM7Kx/AqCntAXu+n3kEWLGAQY4OL8e/c1T3O23ZIgReljaVGcnqxW8l/wKdj7zoxwb6P8gQUcYggttx9J3HwfM2abl4OybCUDZmuPA6Xj6xN69vdRYVYqCoFQarVpscsoFh6IgyROn7gRrqBsmCP8XxRnnE58eP0MK2rYK2q+oxr4WmWgm6I6hmE5DEFfNlrgiiatKUyrLy63E8pLnqMed0fkFhjHy92iGASe8wAC8onPbaTBDd8HvhlCAjpIqzrZuaPeTjsObEytOyIMsrskzpwF/6oT88i7AnXA2vnPg4c3TwB/FgSvyetMPwPSkD2Qp/D65StGPKJQFzMZvyQM6pGZom6E+jT1HN3fHUTTB05jx4D07TscIlkt06d45oZMQRpTiJa4f64IoF6XqvKDKLbxRUD3AYMqM4M+KpSw3M5YeYAxxMbyzQyiXvz6E/uehk8NvU0LyjIMJ6Bf6AeKSjnF9aAB7QBd0O/gpF3vCU2ZODb/jRmd+5YXTtVp1xvjKItSX9LP0VzQlUHgX3nfe8wcC0HX/BTDK1SA="
            ]
        ]
    );

    echo '<PRE>';
    print_r($result);
    echo '</PRE>';
    ```

{% endlist %}

## Response Handling

HTTP Status: **200**

```json
{
    "result": 525,
    "time": {
        "start": 1737529740.157058,
        "finish": 1737529740.4302571,
        "duration": 0.27319908142089844,
        "processing": 0.25160598754882812,
        "date_start": "2025-01-22T10:09:00+01:00",
        "date_finish": "2025-01-22T10:09:00+01:00",
        "operating_reset_at": 1737530340,
        "operating": 0.25158905982971191
    }
}
```

### Returned Data

#|
|| **Name**
`type` | **Description** ||
|| **result**
[`object`](../../data-types.md) | Identifier of the added business process template ||
|| **time**
[`time`](../../data-types.md#time) | Information about the request execution time ||
|#

## Error Handling

HTTP Status: **400**

```json
{
    "error": "ERROR_TEMPLATE_VALIDATION_FAILURE",
    "error_description": "Incorrect field DOCUMENT_TYPE!",
}
```

{% include notitle [error handling](../../../_includes/error-info.md) %}

### Possible Error Codes

#|
|| **Code** | **Error Message** | **Description** ||
|| `ACCESS_DENIED` | Application context required | Access token not from the application ||
|| `ACCESS_DENIED` | Access denied! | Method was not executed by an administrator ||
|| `ERROR_TEMPLATE_VALIDATION_FAILURE` | Incorrect field DOCUMENT_TYPE! | Incorrect document type specified ||
|| `ERROR_TEMPLATE_VALIDATION_FAILURE` | Empty template name! | Template name not specified ||
|| `ERROR_TEMPLATE_VALIDATION_FAILURE` | Incorrect field AUTO_EXECUTE! | Incorrect auto-execution code specified ||
|| `ERROR_TEMPLATE_VALIDATION_FAILURE` | Incorrect field TEMPLATE_DATA! | Incorrect template data specified ||
|#

{% include [system errors](../../../_includes/system-errors.md) %}

## Continue Learning

- [{#T}](./index.md)
- [{#T}](./bizproc-workflow-template-update.md)
- [{#T}](./bizproc-workflow-template-list.md)
- [{#T}](./bizproc-workflow-template-delete.md)